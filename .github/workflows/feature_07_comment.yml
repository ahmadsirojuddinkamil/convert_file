name: feature_07_comment

on:
  push:
    branches:
      - feature_07_comment

jobs:
  InstallDependencies:
    name: Install Dependencies
    runs-on: ubuntu-latest

    steps:
      - name: Get latest code
        uses: actions/checkout@v3

      - name: Install Composer
        run: |
          curl -sS https://getcomposer.org/installer | php
          mv composer.phar /usr/local/bin/composer

      - name: Install Dependencies
        run: composer install --prefer-dist --no-interaction --no-progress --no-suggest

  RunMySQLContainer:
    name: Run MySQL Container
    runs-on: ubuntu-latest

    steps:
      - name: Get latest code
        uses: actions/checkout@v3

      - name: Launch MySQL Container
        run: docker run --name mysql-container -e MYSQL_ROOT_PASSWORD=your_password -d ahmadsirojuddinkamil/mysql-convert-1

      - name: Wait for MySQL to start
        run: sleep 30s # Adjust this according to the startup time of MySQL

      - name: Launch Linter
        run: docker exec mysql-container ./vendor/bin/pint
